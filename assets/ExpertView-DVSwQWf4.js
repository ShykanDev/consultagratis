import{d as D,f as y,q as I,c as _,w as C,_ as S,a as e,j as a,l as h,F as p,k as g,r as N,o,b as c,t as r,e as f,n as F}from"./index-C54R5bcO.js";import{g as T,c as A,q as E,w as q,a as V}from"./index.esm2017-DxElVqgE.js";import{e as j}from"./expert-9Hoi4foh.js";const B={class:"container px-4 py-8 mx-auto"},H={key:0,class:"p-4 mb-6 text-yellow-700 bg-yellow-100 rounded border-l-4 border-yellow-500"},L={key:1,class:"flex justify-center py-12"},U={key:2,class:"py-12 text-center text-gray-500"},z={key:3,class:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"},M={class:"flex justify-between items-center px-4 py-3 bg-indigo-600"},$={class:"flex items-center text-white"},G={class:"font-semibold"},J={class:"p-4"},K={class:"flex items-center mb-4"},O={class:"px-3 py-1 text-xs font-medium text-indigo-800 bg-indigo-100 rounded-full"},P={class:"ml-auto text-sm text-gray-500"},Q={class:"mb-6"},R={class:"flex items-center mb-3 text-lg font-medium text-gray-700"},W={class:"flex flex-wrap gap-2"},X={key:0},Y={class:"flex items-center mb-3 text-lg font-medium text-gray-700"},Z={class:"space-y-2"},ee={class:"flex justify-between items-center"},te={class:"font-medium text-indigo-700"},se={class:"mt-1 text-sm text-gray-600"},oe={key:1,class:"py-4 text-center text-gray-500"},le=D({__name:"ExpertView",setup(ae){const b=T(),d=y({availableForAppointment:!0,weeklySchedule:[]}),x=y(!0),v=n=>{const t={year:"numeric",month:"long",day:"numeric"};return new Date(n).toLocaleDateString("es-ES",t)},m=(n,t)=>n.includes(t),k=async()=>{try{const n=A(b,"Dates"),t=E(n,q("userUid","==",j().getExpertUid)),i=await V(t);if(!i.empty){const s=i.docs[0].data();d.value={availableForAppointment:s.availableForAppointment,weeklySchedule:s.weeklySchedule||[]}}}catch(n){console.error("Error fetching dates:",n)}finally{x.value=!1}};return I(()=>{k()}),(n,t)=>{const i=N("v-icon");return o(),_(S,null,{main:C(()=>[e("div",B,[t[5]||(t[5]=e("h1",{class:"mb-8 text-3xl font-bold text-center text-indigo-700"},"Calendario de Citas",-1)),d.value.availableForAppointment?h("",!0):(o(),a("div",H,t[0]||(t[0]=[e("p",{class:"font-medium"},"Actualmente no disponible para nuevas citas",-1)]))),x.value?(o(),a("div",L,t[1]||(t[1]=[e("div",{class:"w-8 h-8 rounded-full border-4 border-indigo-500 animate-spin border-t-transparent"},null,-1)]))):d.value.weeklySchedule.length===0?(o(),a("div",U," No hay citas programadas ")):(o(),a("div",z,[(o(!0),a(p,null,g(d.value.weeklySchedule,(s,w)=>(o(),a("div",{key:w,class:"overflow-hidden bg-white rounded-lg border border-gray-200 shadow-md transition-shadow duration-300 hover:shadow-lg"},[e("div",M,[e("div",$,[c(i,{name:"io-calendar",class:"mr-2"}),e("span",G,r(s.dayInfo.day)+", "+r(s.dayInfo.dayNumber)+" de "+r(s.dayInfo.monthName),1)]),c(i,{name:"fa-reg-calendar-alt",class:"text-white"})]),e("div",J,[e("div",K,[e("span",O,r(s.dayInfo.isDayAvailable?"Disponible":"No disponible"),1),e("span",P,r(s.dayInfo.fullDate),1)]),e("div",Q,[e("h3",R,[c(i,{name:"io-time",class:"mr-2 text-indigo-500"}),t[2]||(t[2]=f(" Horario "))]),e("div",W,[(o(!0),a(p,null,g(s.dayInfo.availableHours,(l,u)=>(o(),a("span",{key:u,class:F(["px-3 py-1 text-sm rounded-full",{"bg-green-100 text-green-800":!m(s.dayInfo.hoursTaken,l),"bg-indigo-100 text-indigo-800 border border-indigo-500":m(s.dayInfo.hoursTaken,l)}])},[f(r(l)+" ",1),m(s.dayInfo.hoursTaken,l)?(o(),_(i,{key:0,name:"fa-check-circle",class:"ml-1 text-indigo-600"})):h("",!0)],2))),128))])]),s.dayInfo.hoursTaken.length>0?(o(),a("div",X,[e("h3",Y,[c(i,{name:"fa-clock",class:"mr-2 text-indigo-500"}),t[3]||(t[3]=f(" Citas confirmadas "))]),e("div",Z,[(o(!0),a(p,null,g(s.dayInfo.hoursTaken,(l,u)=>(o(),a("div",{key:u,class:"p-3 bg-indigo-50 rounded border-l-4 border-indigo-500"},[e("div",ee,[e("span",te,r(l),1),t[4]||(t[4]=e("span",{class:"px-2 py-1 text-xs text-indigo-800 bg-indigo-100 rounded-full"},"Confirmada",-1))]),e("p",se,"Cita programada para el "+r(v(s.dayInfo.fullDate)),1)]))),128))])])):(o(),a("div",oe," No hay citas confirmadas para este d√≠a "))])]))),128))]))])]),_:1})}}});export{le as default};
