import{g as y,a as _,c as p,e as g,d as h,b as v,T as b}from"./index.esm2017-C81nZvaF.js";import{c as k}from"./client-oHy5FX0V.js";import{d as w,f as F,q as C,r as A,j as r,o as l,a as s,F as D,k as N,b as c,e as m,t as n}from"./index-D-Vn23KF.js";const $={class:""},S={key:0,class:"flex flex-wrap justify-evenly w-full"},q={class:"p-6 mx-auto mt-6 bg-white rounded-2xl border border-sky-700 shadow-lg min-w-96"},B={class:"flex items-center mb-4 text-blue-600"},T={class:"space-y-4 text-gray-800"},U={class:"flex items-center"},V={class:"flex items-center"},j={class:"flex items-center"},z=["onClick"],E={key:1},I=w({__name:"FutureAppointments",setup(H){const a=F([]),d=k(),u=y(),f=async()=>{try{(await _(p(u,`users/${d.clientUid}/FutureAppointments`))).forEach(e=>{a.value.push({id:e.id,...e.data()}),console.log(e.data())}),console.log(a.value)}catch(t){console.log(t)}};C(()=>{f()});const x=async t=>{try{await g(h(u,`users/${d.clientUid}/FutureAppointments/${t}`)),await v(p(u,`users/${d.clientUid}/HistoryAppointments`),{...a.value.find(e=>e.id===t),id:t,finalizationDate:b.now()}),a.value=a.value.filter(e=>e.id!==t),f()}catch(e){console.log(e)}};return(t,e)=>{const i=A("v-icon");return l(),r("div",$,[e[4]||(e[4]=s("h2",{class:"text-2xl font-bold text-center text-white bg-sky-700"},"PrÃ³ximas Citas",-1)),a.value.length?(l(),r("section",S,[(l(!0),r(D,null,N(a.value,o=>(l(),r("div",{key:o.id},[s("article",q,[s("div",B,[c(i,{name:"fa-user-check",class:"mr-2",scale:"1.2"}),e[0]||(e[0]=s("h3",{class:"text-lg font-semibold"},"Cita Confirmada",-1))]),s("div",T,[s("div",U,[c(i,{name:"fa-calendar-day",class:"mr-3 text-rose-500"}),s("p",null,[e[1]||(e[1]=s("span",{class:"font-medium"},"Fecha:",-1)),m(" "+n(o.day)+", "+n(o.dayNumber)+" de "+n(o.month)+" del "+n(o.year),1)])]),s("div",V,[c(i,{name:"fa-clock",class:"mr-3 text-green-600"}),s("p",null,[e[2]||(e[2]=s("span",{class:"font-medium"},"Hora:",-1)),m(" "+n(o.hour),1)])]),s("div",j,[c(i,{name:"fa-user-tie",class:"mr-3 text-purple-900"}),s("p",null,[e[3]||(e[3]=s("span",{class:"font-medium"},"Profesional:",-1)),m(" "+n(o.proffession),1)])]),s("button",{onClick:M=>x(o.id),class:"px-4 py-2 text-white bg-emerald-800 rounded transition hover:bg-emerald-700"},"Marcar como finalizada",8,z)])])]))),128))])):(l(),r("p",E,"No hay citas programadas"))])}}});export{I as default};
