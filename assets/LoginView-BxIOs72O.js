import{d as z,f,j as E,a as t,s as b,b as l,r as g,g as v,h as w,e as x,w as C,o as y,m as R,c as k,_ as S,l as $,z as _,C as M,D as V,x as j}from"./index-C54R5bcO.js";import{g as I,a as L,b as A}from"./index-c92d61ad-bYLcb_Gj.js";import{c as P}from"./client-VdMJUsct.js";import{s as u}from"./system-Dn1O3iZn.js";import{e as U}from"./expert-9Hoi4foh.js";const T={class:"flex fixed inset-0 z-50 justify-center items-center backdrop-blur-sm bg-black/50"},B={class:"p-6 space-y-6 w-full max-w-md bg-white rounded-2xl shadow-2xl transition-all duration-300 dark:bg-zinc-900 sm:p-8"},N={class:"flex justify-between items-center"},D={class:"space-y-4"},O={class:"text-sm text-center text-zinc-600 dark:text-zinc-400"},W=z({__name:"RestoreAccount",emits:["closeModal"],setup(o,{emit:d}){const s=f(""),a=I(),m=d,p=async()=>{try{await L(a,s.value),alert("Enlace de recuperación enviado"),m("closeModal"),u().setToggleShowModalResetPassword(),s.value=""}catch(r){alert(r)}};return(r,e)=>{const i=g("v-icon"),n=g("RouterLink");return y(),E("div",T,[t("div",B,[t("div",N,[e[2]||(e[2]=t("h2",{class:"text-xl font-semibold text-zinc-800 dark:text-zinc-100"},"Recuperar cuenta",-1)),t("button",{onClick:e[0]||(e[0]=h=>b(u)().setToggleShowModalResetPassword()),class:"transition-colors duration-200 text-zinc-500 hover:text-red-500"},[l(i,{name:"fa-times",scale:"1.2"})])]),t("div",D,[t("div",null,[e[3]||(e[3]=t("label",{for:"email",class:"block text-sm font-medium text-zinc-700 dark:text-zinc-300"},"Correo electrónico",-1)),v(t("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=h=>s.value=h),type:"email",placeholder:"tucorreo@ejemplo.com",class:"px-4 py-2 mt-1 w-full rounded-xl border transition-all duration-200 border-zinc-300 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[w,s.value]])]),t("button",{onClick:p,class:"flex gap-2 justify-center items-center py-2.5 w-full font-semibold text-white bg-blue-600 rounded-xl transition-all duration-200 hover:bg-blue-700"},[l(i,{name:"fa-paper-plane"}),e[4]||(e[4]=x(" Enviar enlace de recuperación "))])]),t("div",O,[e[6]||(e[6]=x(" ¿Recordó su contraseña? ")),l(n,{to:"/login",class:"text-blue-600 transition hover:underline hover:text-blue-700"},{default:C(()=>e[5]||(e[5]=[x("Inicia sesión ")])),_:1})])])])}}}),c=R("usersLogin",{state:()=>({isClient:!1,isExpert:!1,expertsList:["awscodeapp@gmail.com"]}),actions:{setIsClient(o){this.isClient=o},setIsExpert(o){this.isExpert=o},expertIncluded(o){return this.expertsList.includes(o)}}}),q={class:"flex justify-center items-center px-4 min-h-screen bg-gradient-to-br from-gray-100 to-white"},F={class:"relative"},G={class:"relative"},H={class:"text-center"},Z=z({__name:"LoginView",setup(o){const d=M(),s=f(""),a=f(""),m=I(),p=async()=>{const r=V.promise("Iniciando sesión, por favor espera...");try{const e=await A(m,s.value,a.value);e&&e.user&&e.user.email&&(j().setIsAuth(!0),u().setUserEmail(e.user.email),c().expertIncluded(e.user.email)&&(U().setExpertUid(e.user.uid),c().setIsExpert(!0),d.push({name:"expert"})),c().expertIncluded(e.user.email)||(P().setClientUid(e.user.uid),c().setIsClient(!0),d.push({name:"user"}))),r.resolve("Inicio de sesión exitoso")}catch(e){r.reject("Error al iniciar sesión: "+e)}};return(r,e)=>{const i=g("v-icon");return y(),k(S,null,{main:C(()=>[t("div",q,[t("form",{onSubmit:_(p,["prevent"]),class:"px-8 py-10 space-y-6 w-full max-w-4xl bg-white rounded-2xl border border-gray-100 shadow-lg"},[e[5]||(e[5]=t("div",{class:"space-y-1 text-center"},[t("h1",{class:"text-2xl font-bold text-sky-800"},"Inicie sesión en su cuenta"),t("p",{class:"text-sm text-gray-500"},"Acceda a su cuenta para continuar la experiencia.")],-1)),t("div",null,[e[3]||(e[3]=t("label",{for:"email",class:"block mb-1 text-sm font-medium text-gray-600"},"Email",-1)),t("div",F,[l(i,{name:"fa-envelope",class:"absolute left-3 top-1/2 text-gray-400 -translate-y-1/2"}),v(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=n=>s.value=n),type:"email",placeholder:"name@mail.com",class:"py-2 pr-4 pl-10 w-full rounded-lg border border-gray-300 transition focus:ring-2 focus:ring-blue-500 focus:outline-none"},null,512),[[w,s.value]])])]),t("div",null,[e[4]||(e[4]=t("label",{for:"password",class:"block mb-1 text-sm font-medium text-gray-600"},"Contraseña",-1)),t("div",G,[l(i,{name:"fa-lock",class:"absolute left-3 top-1/2 text-gray-400 -translate-y-1/2"}),v(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=n=>a.value=n),type:"password",placeholder:"••••••••",class:"py-2 pr-4 pl-10 w-full rounded-lg border border-gray-300 transition focus:ring-2 focus:ring-blue-500 focus:outline-none"},null,512),[[w,a.value]])])]),e[6]||(e[6]=t("button",{type:"submit",class:"py-2 w-full font-semibold text-white bg-blue-600 rounded-lg transition hover:bg-blue-700"}," Iniciar sesión ",-1)),e[7]||(e[7]=t("div",{class:"flex gap-4 items-center text-sm text-gray-400"},[t("hr",{class:"flex-grow border-gray-200"}),t("span",null,"O"),t("hr",{class:"flex-grow border-gray-200"})],-1)),t("div",H,[t("button",{type:"button",onClick:e[2]||(e[2]=_(n=>b(u)().setToggleShowModalResetPassword(),["prevent"])),class:"text-xs text-blue-500 hover:underline"},"¿Olvidó su contraseña?")])],32)]),b(u)().getShowModalResetPassword?(y(),k(W,{key:0})):$("",!0)]),_:1})}}});export{Z as default};
