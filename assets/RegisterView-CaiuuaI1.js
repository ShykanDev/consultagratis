import{j as n,a as e,o as r,d as U,f as x,p as Z,i as F,c as I,w as D,_ as L,b as o,r as C,z as T,l as f,g as b,s as l,h as V,t as g,Q as q,A as H,B as P,e as y}from"./index-Clah1Jh7.js";import{g as Y,c as Q,s as W}from"./index-c92d61ad-BrnaUqLr.js";import{g as z,d as G,s as J,T as k,c as M,b as E}from"./index.esm2017-D6Uzbyqh.js";function O(v,i){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])}function w(v,i){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function K(v,i){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function X(v,i){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})])}function j(v,i){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}const ee={class:"flex overflow-hidden relative justify-center items-center p-4 min-h-screen bg-gradient-to-br from-blue-50 to-orange-100"},te={class:"grid gap-6 md:grid-cols-2"},se={class:"space-y-2"},ae={class:"flex items-center space-x-3 font-medium text-gray-600"},oe={key:0,class:"flex items-center space-x-1 text-sm text-red-500"},re={class:"space-y-2"},le={class:"flex items-center space-x-3 font-medium text-gray-600"},ne={key:0,class:"flex items-center space-x-1 text-sm text-red-500"},ie={class:"space-y-2 md:col-span-2"},de={class:"flex items-center space-x-3 font-medium text-gray-600"},ce={key:0,class:"flex items-center space-x-1 text-sm text-red-500"},ue={class:"space-y-2 md:col-span-2"},me={class:"flex items-center space-x-3 font-medium text-gray-600"},pe={class:"relative"},fe=["type"],ve={class:"flex justify-between items-center"},xe={key:0,class:"flex items-center space-x-1 text-sm text-red-500"},ge={class:"text-sm text-gray-500"},we={class:"flex items-center space-x-3 md:col-span-2"},he={key:0,class:"flex items-center space-x-1 text-sm text-red-500"},be={key:0,class:"mt-4 text-lg font-semibold text-center text-red-600"},De=U({__name:"RegisterView",setup(v){const i=x(new Date),s=x({name:"",email:"",age:null,password:"",terms:!1}),c=x({}),h=x(!1),A=Z(()=>s.value.password?`Strength: ${s.value.password.length>10?"üí™ Strong":s.value.password.length>6?"üëç Good":"üòü Weak"}`:""),B=()=>{const a={};return s.value.name.trim()?s.value.name.length<3&&(a.name="El nombre debe tener al menos 3 caracteres"):a.name="Nombre completo es requerido",s.value.email?/^\S+@\S+\.\S+$/.test(s.value.email)||(a.email="El correo electr√≥nico es invalido"):a.email="El correo electr√≥nico es requerido",s.value.password?s.value.password.length<8&&(a.password="La contrase√±a debe tener al menos 8 caracteres"):a.password="La contrase√±a es requerida",s.value.terms||(a.terms="Debe aceptar los t√©rminos y condiciones"),c.value=a,Object.keys(a).length===0},$=Y(),R=z(),N=async a=>{try{const t=G(R,"users",a.user.uid);await J(t,{name:s.value.name,email:s.value.email,age:s.value.age,terms:s.value.terms,createdAt:k.now(),userId:a.user.uid,freeConsultations:!0});const u=M(t,"HistoryAppointments");await E(u,{createdAt:k.now(),userId:a.user.uid});const p=M(t,"FutureAppointments");await E(p,{createdAt:k.now(),userId:a.user.uid}),console.log("Usuario y subcolecciones creadas")}catch(t){console.error("Error al crear usuario o subcolecciones:",t)}},S=async()=>{if(_(),!m.value&&B())try{const a=await Q($,s.value.email,s.value.password);W(a.user),await N(a),s.value={name:"",email:"",age:null,password:"",terms:!1},h.value=!1}catch(a){console.log(a)}},m=x(!1),_=()=>{if(!i.value){console.log("No se ha seleccionado fecha");return}const a=new Date(i.value),t=new Date;let u=t.getFullYear()-a.getFullYear();const p=t.getMonth()-a.getMonth();return(p<0||p===0&&t.getDate()<a.getDate())&&u--,m.value=u<18,console.log(`Edad calculada: ${u} a√±os - ${m.value?"Es menor de edad":"Es mayor de edad"}`),m.value};return F(i,()=>{_()}),(a,t)=>{const u=C("v-icon"),p=C("RouterLink");return r(),I(L,null,{main:D(()=>[e("div",ee,[o(p,{to:{name:"registroExperto"},class:"flex absolute top-4 right-4 items-center p-2 bg-sky-700 rounded-2xl outline-white animate-delay-[350ms] animate-fade-left outline-2"},{default:D(()=>[o(u,{name:"bi-file-person",scale:"2",class:"text-white"}),t[6]||(t[6]=e("span",{class:"ml-2 text-white"},"Registrarse como profesional",-1)),o(u,{name:"bi-arrow-right-circle-fill",scale:"2",class:"ml-1 text-white"})]),_:1}),e("form",{onSubmit:T(S,["prevent"]),class:"p-8 mt-16 space-y-6 w-full max-w-6xl min-h-full bg-white rounded-2xl shadow-2xl transition-all duration-300 lg:mt-0 hover:shadow-xl"},[t[13]||(t[13]=e("div",{class:"space-y-2 text-center"},[e("h1",{class:"text-3xl font-extrabold text-transparent text-gray-800 bg-clip-text bg-gradient-to-r from-orange-300 to-orange-500"}," Registrese y consulte a un experto "),e("p",{class:"text-gray-500"},"Cree su cuenta en segundos")],-1)),e("div",te,[e("div",se,[e("label",ae,[o(l(j),{class:"w-6 h-6 text-slate-600"}),t[7]||(t[7]=e("span",null,"Nombre completo",-1))]),b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=d=>s.value.name=d),type:"text",placeholder:"John Doe",class:"px-4 py-3 w-full rounded-xl border-2 border-gray-200 transition-all focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,512),[[V,s.value.name]]),c.value.name?(r(),n("p",oe,[o(l(w),{class:"w-4 h-4"}),e("span",null,g(c.value.name),1)])):f("",!0)]),e("div",re,[e("label",le,[o(l(j),{class:"w-6 h-6 text-slate-700"}),t[8]||(t[8]=e("span",null,"Fecha de nacimiento",-1))]),o(l(q),{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=d=>i.value=d),"auto-apply":"","partial-flow":"","enable-time-picker":!1,flow:["month","year","calendar"]},null,8,["modelValue"]),m.value?(r(),n("p",ne,[o(l(w),{class:"w-4 h-4"}),t[9]||(t[9]=e("span",null,"Debe ser mayor de edad",-1))])):f("",!0)]),e("div",ie,[e("label",de,[o(l(O),{class:"w-6 h-6 text-slate-700"}),t[10]||(t[10]=e("span",null,"Email",-1))]),b(e("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>s.value.email=d),type:"email",placeholder:"john@example.com",class:"px-4 py-3 w-full rounded-xl border-2 border-gray-200 transition-all focus:border-green-500 focus:ring-2 focus:ring-green-200"},null,512),[[V,s.value.email]]),c.value.email?(r(),n("p",ce,[o(l(w),{class:"w-4 h-4"}),e("span",null,g(c.value.email),1)])):f("",!0)]),e("div",ue,[e("label",me,[o(l(X),{class:"w-6 h-6 text-slate-500"}),t[11]||(t[11]=e("span",null,"Contrase√±a",-1))]),e("div",pe,[b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=d=>s.value.password=d),type:h.value?"text":"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",class:"px-4 py-3 pr-12 w-full rounded-xl border-2 border-gray-200 transition-all focus:border-red-500 focus:ring-2 focus:ring-red-200"},null,8,fe),[[H,s.value.password]]),e("button",{type:"button",onClick:t[4]||(t[4]=d=>h.value=!h.value),class:"absolute top-3 right-3 p-2 rounded-full hover:bg-gray-100"},[o(l(K),{class:"w-5 h-5 text-gray-400"})])]),e("div",ve,[c.value.password?(r(),n("p",xe,[o(l(w),{class:"w-4 h-4"}),e("span",null,g(c.value.password),1)])):f("",!0),e("span",ge,g(A.value),1)])]),e("div",we,[b(e("input",{"onUpdate:modelValue":t[5]||(t[5]=d=>s.value.terms=d),type:"checkbox",class:"w-5 h-5 text-blue-600 rounded border-2 focus:ring-blue-500"},null,512),[[P,s.value.terms]]),t[12]||(t[12]=e("label",{class:"text-gray-600"},[y(" Acepto los "),e("a",{href:"#",class:"text-blue-600 hover:underline"},"T√©rminos de servicio"),y(" and "),e("a",{href:"#",class:"text-blue-600 hover:underline"},"Pol√≠tica de privacidad")],-1)),c.value.terms?(r(),n("p",he,[o(l(w),{class:"w-4 h-4"}),e("span",null,g(c.value.terms),1)])):f("",!0)])]),t[14]||(t[14]=e("button",{type:"submit",class:"w-full bg-gradient-to-r from-orange-300 to-orange-600 text-white py-4 rounded-xl font-semibold hover:from-slate-700 hover:to-slate-700 transition-all transform hover:scale-[1.01] shadow-lg"}," Registrarse ",-1)),t[15]||(t[15]=e("p",{class:"text-center text-gray-600"},[y(" Ya tiene una cuenta? "),e("a",{href:"#",class:"font-semibold text-blue-600 hover:underline"},"Iniciar sesi√≥n")],-1)),m.value?(r(),n("p",be," No se permite el acceso a menores de edad ")):f("",!0)],32)])]),_:1})}}});export{De as default};
